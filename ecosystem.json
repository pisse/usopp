{
  "apps": [
    {
      "name": "Usopp",
      "max_memory_restart": "1024M",
      "log_date_format": "YYYY-MM-DD HH:mm:ss SSS",
      //=max 时,根据CPU数来设定
      "instances": 1,
      "exec_mode": "cluster", // or fork
      "script": "index.js",
      "error_file": "/data/logs/usopp/error.log",
      "out_file": "/data/logs/usopp/logs/out.log",
      //"one_launch_only": "true",
      "autorestart": false,
      "watch": ["backend/controllers", "backend/routes"],
      "ignore_watch": ["node_modules", "tmp"],
      "env": {
        "NODE_ENV": "development"
      },
      "env_pre": {
        "NODE_ENV": "pre"
      },
      "env_prod": {
        "NODE_ENV": "production"
      },
      "env_jarpay": {
        "NODE_ENV": "jarpay"
      }
    }
  ],
  "deploy": {
    "prod": {
      "user": "root",
      "host": "120.26.232.136",
      "ref": "origin/master",
      "repo": "git@git.coding.net:szyq/dishes-node.git",
      "path": "/root/shiqu-node/apps/bossHelper/prod",
      "post-deploy": "npm install ; pm2 startOrRestart ecosystem.json --env prod",
      "env": {
        "NODE_ENV": "production"
      }
    },
    "pre": {
      "user": "root",
      "host": "120.26.214.250",
      "ref": "origin/master",
      "repo": "git@git.coding.net:szyq/dishes-node.git",
      "path": "/root/shiqu-node/apps/bossHelper/pre",
      "post-deploy": "npm install ; pm2 startOrRestart ecosystem.json --env pre",
      "env": {
        "NODE_ENV": "pre"
      }
    }
  }
}
